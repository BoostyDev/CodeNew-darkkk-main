---
import {
	getLangFromUrl,
	useTranslatedPath,
	useTranslations,
} from '@/i18n/utils';
import logo from '@/assets/logo.svg';
import LanguagePicker from '@/components/LanguagePicker.astro';
import arrowIcon from '@/assets/icons/arrow-big.svg';
import { socials } from '@/scripts/consts';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const pages = [
	{
		name: t('nav.home'),
		link: translatePath('/'),
	},
	{
		name: t('nav.about'),
		link: translatePath('/about'),
	},
	{
		name: t('nav.projects'),
		link: translatePath('/projects'),
	},
	{
		name: t('nav.contact'),
		link: translatePath('/contact'),
	},
];
---
<footer class='section sticky bottom-0 py-7 mb-5 flex gap-5 flex-col md:flex-row items-center md:items-start md:justify-between'>
	<a href={translatePath('/')}>
		<img src={logo.src} alt='Logo' class='w-10' loading='lazy' />
	</a>

	<div class='flex flex-col md:flex-row gap-5 md:gap-14 text-white'>
		<section>
			<h5 class='text-[17px] font-medium mb-2'>Contact</h5>
			<ul>
				<li>
					<a
						class='hover:translate-x-1 hover:text-indigo-600 transition-all inline-block opacity-85 hover:opacity-100 group text-white'
						href='mailto:contact@codenew.com'
						target='_blank'
						rel='noopener noreferrer'>
						info@codenew.de
						<img
							src={arrowIcon.src}
							alt=''
							class='w-5 top-0 bottom-0 -rotate-45 my-auto absolute right-0 translate-x-2 group-hover:translate-x-6 transition-all opacity-0 group-hover:opacity-100'
						/>
					</a>
				</li>
			</ul>
		</section>

		<section>
			<h5 class='text-[17px] font-medium mb-2'>Socials</h5>
			<nav>
				<ul class='flex flex-col gap-1'>
					{
						socials.map((social) => (
							<li>
								<a
									class='hover:translate-x-1 hover:text-indigo-600 transition-all inline-block opacity-85 hover:opacity-100 group text-white'
									href={social.link}
									target='_blank'
									rel='noopener noreferrer'>
									{social.name}
									<img
										src={arrowIcon.src}
										alt=''
										class='w-5 max-w-none top-0 bottom-0 -rotate-45 my-auto absolute right-0 translate-x-2 group-hover:translate-x-6 transition-all opacity-0 group-hover:opacity-100'
									/>
								</a>
							</li>
						))
					}
				</ul>
			</nav>
		</section>

		<!-- Nueva columna: Acuerdos Legales -->
		<section>
			<h5 class='text-[17px] font-medium mb-2'>{t('nav.legal')}</h5>
			<nav>
				<ul class='flex flex-col gap-1'>
					<li>
						<a
							class='hover:translate-x-1 hover:text-indigo-600 transition-all inline-block opacity-85 hover:opacity-100 group text-white'
							href={translatePath('/politics')}
							target='_self'
							rel='noopener noreferrer'>
							{t('politics.title')}
							<img
								src={arrowIcon.src}
								alt=''
								class='w-5 top-0 bottom-0 -rotate-45 my-auto absolute right-0 translate-x-2 group-hover:translate-x-6 transition-all opacity-0 group-hover:opacity-100'
							/>
						</a>
					</li>
					<li>
						<a
							class='hover:translate-x-1 hover:text-indigo-600 transition-all inline-block opacity-85 hover:opacity-100 group text-white'
							href={translatePath('/imprint')}
							target='_self'
							rel='noopener noreferrer'>
							{t('imprint.title')} {/* Enlace al Imprint */}
							<img
								src={arrowIcon.src}
								alt=''
								class='w-5 top-0 bottom-0 -rotate-45 my-auto absolute right-0 translate-x-2 group-hover:translate-x-6 transition-all opacity-0 group-hover:opacity-100'
							/>
						</a>
					</li>
				</ul>
			</nav>
		</section>

		<section class='flex justify-center'>
			<LanguagePicker />
		</section>
	</div>
</footer>
